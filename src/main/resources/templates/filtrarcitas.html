<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PEPUCHA - Estética avanzada</title>
<link rel="stylesheet" th:href="@{/css/registrarpersona.css}">

</head>

<body>
	<header>
		<div class="logo">
			<img th:src="@{/imagenes/LOGOPEPU.png}" alt="Logo">
		</div>
	</header>

	<h2>FILTRAR CITAS</h2>

	<h2>FILTRAR CITAS</h2>
	<div th:if="${error}" class="mensaje-error">
		<p th:text="${error}"></p>
	</div>
	<div th:if="${mensajeExito}" class="mensaje-exito">
		<p th:text="${mensajeExito}"></p>
	</div>

	<form th:action="@{/citaFiltrarPersona}" method="post"
		id="formularioRegistro1">
		<fieldset>
			<legend>Por persona:</legend>
			<label for="persona">Nombre persona:</label> <input type="text"
				id="persona" name="persona" required></input>
			<button type="submit" id="botonFiltrarPersona">Buscar</button>
		</fieldset>
	</form>

	<div th:if="${citasFiltrarPersona}">
		<table>
			<thead>
				<tr>
					<th>Fecha</th>
					<th>Servicio</th>
					<th>Cliente</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="cita : ${citasFiltrarPersona}">
					<td
						th:text="${#temporals.format(cita.fechahora, 'dd/MM/yyyy HH:mm')}"></td>
					<td th:text="${cita.servicio?.nombre}"></td>
					<td th:text="${cita.cliente?.nombre}"></td>
				</tr>
			</tbody>
		</table>
	</div>

	<div th:if="${personalFiltrarPersona}">
		<table>
			<thead>
				<tr>
					<th>ID</th>
					<th>Nombre</th>
					<th>Email</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="persona : ${personalFiltrarPersona}">
					<td th:text="${persona.id}"></td>
					<td th:text="${persona.nombre}"></td>
					<td th:text="${persona.email}"></td>
				</tr>
			</tbody>
		</table>
	</div>

	<form th:action="@{/citaFiltrarServicio}" method="post"
		id="formularioRegistro1">
		<fieldset>
			<legend>Por servicio:</legend>
			<label for="persona">Código servicio:</label> <input type="text"
				id="servicio" name="servicio" required></input>
			<button type="submit" id="botonFiltrarServicio">Buscar</button>
		</fieldset>
	</form>

	<div th:if="${citasFiltrarServicio}">
		<table>
			<thead>
				<tr>
					<th>Fecha</th>
					<th>Personal</th>
					<th>Cliente</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="cita : ${citasFiltrarServicio}">
					<td
						th:text="${#temporals.format(cita.fechahora, 'dd/MM/yyyy HH:mm')}"></td>
					<td th:text="${cita.persona?.nombre}"></td>
					<td th:text="${cita.cliente?.nombre}"></td>
				</tr>
			</tbody>
		</table>
	</div>

	<div th:if="${serviciosFiltrarServicio}">
		<table>
			<thead>
				<tr>
					<th>Código</th>
					<th>Nombre</th>
					<th>Duración</th>
					<th>Precio</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="servicio : ${serviciosFiltrarServicio}">
					<td th:text="${servicio.codigo}"></td>
					<td th:text="${servicio.nombre}"></td>
					<td th:text="${servicio.duracion}"></td>
					<td th:text="${servicio.precio}"></td>
				</tr>
			</tbody>
		</table>
	</div>

	<form id="filtroForm" th:action="@{/filtrarcitasfechasadmin}"
		method="get">
		<label><input type="radio" name="filtro" value="dia"
			onchange="this.form.submit()"> Día actual</label><br> <label><input
			type="radio" name="filtro" value="semana"
			onchange="this.form.submit()"> Semana actual</label><br> <label><input
			type="radio" name="filtro" value="mes" onchange="this.form.submit()">
			Mes actual</label><br> <label><input type="radio" name="filtro"
			value="todas" onchange="this.form.submit()"> Todas</label>
	</form>

	<div th:if="${citasFiltrarFechas}">
		<table>
			<thead>
				<tr>
					<th>Fecha</th>
					<th>Servicio</th>
					<th>Personal</th>
					<th>Cliente</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="cita : ${citasFiltrarFechas}">
					<td
						th:text="${#temporals.format(cita.fechahora, 'dd/MM/yyyy HH:mm')}"></td>
					<td th:text="${cita.servicio?.nombre}"></td>
					<td th:text="${cita.persona?.nombre}"></td>
					<td th:text="${cita.cliente?.nombre}"></td>
				</tr>
			</tbody>
		</table>
	</div>

	<br>
	<div class="contenedorboton">
		<a th:href="@{/menuadmin}">
			<button type="button">Volver</button>
		</a>
	</div>
	<br>
	<br>


	<!-- Footer -->
	<footer>
		<div class="footer-container">
			<div class="izda">
				<div class="footer-logo">
					<img th:src="@{/imagenes/LOGOPEPU.png}" alt="Logo">
				</div>
			</div>
			<div class="dcha">
				<br> <br> <br>
				<div class="footer-socials">
					<img th:src="@{/imagenes/insta.png}" alt="Instagram"> <img
						th:src="@{/imagenes/fb.png}" alt="Facebook"> <img
						th:src="@{/imagenes/wa.png}" alt="WhatsApp">
				</div>
				<div class="footer-sections">
					<div class="footer-section contact">
						<h3>Contacto</h3>
						<p>
							<img class="icon" th:src="@{/imagenes/ubicacion.png}"> C/
							Avenida de la Reguera nº7, Langreo, Asturias
						</p>
						<p>
							<img class="icon" th:src="@{/imagenes/mail.png}"> Enviar
							email
						</p>
						<p>
							<img class="icon" th:src="@{/imagenes/telefono.png}">
							985-985-985
						</p>
					</div>
					<div class="footer-section">
						<h3>Enlaces Destacados</h3>
						<ul>
							<li>Conoce nuestros servicios</li>
							<li>Descubre la nueva depilación con hilo</li>
							<li><a th:href="@{/quienessomos}">Quiénes somos</a></li>
						</ul>
					</div>
					<div class="footer-section">
						<h3>Textos Legales</h3>
						<ul>
							<li>Aviso legal</li>
							<li>Política de cookies</li>
							<li>Política de privacidad</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</footer>

</body>
</html>
